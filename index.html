<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRONX ACCESS CONTROL</title>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- 1. BACKGROUND STYLE (STRIPED LIKE PHOTO) --- */
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            background-color: #000;
            /* Creating the diagonal stripes */
            background-image: repeating-linear-gradient(
                45deg,
                #000 0px,
                #000 10px,
                #111 10px,
                #111 20px
            );
            color: white;
            font-family: 'Courier Prime', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        /* --- 2. CONTAINER (NEON BOX) --- */
        .container {
            width: 90%;
            max-width: 380px;
            background: rgba(0, 0, 0, 0.9);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            /* Cyan Neon Border like Screenshot 1 */
            border: 2px solid cyan;
            box-shadow: 0 0 20px cyan;
            position: relative;
        }

        /* --- 3. TYPOGRAPHY --- */
        h1 {
            color: #ffdd00; /* Yellow Text */
            text-shadow: 2px 2px 0px #000;
            font-size: 22px;
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        h2 {
            font-size: 20px;
            margin: 10px 0;
        }

        /* --- 4. INPUTS (GREEN BORDER LIKE PHOTO) --- */
        input {
            width: 90%;
            padding: 15px;
            margin-bottom: 15px;
            background: #000;
            border: 2px solid #00ff00; /* Green Border */
            color: white;
            font-family: 'Courier Prime', monospace;
            font-size: 16px;
            text-align: center;
            outline: none;
        }
        input::placeholder { color: #555; }

        /* --- 5. BUTTONS --- */
        
        /* Login Button (Gradient Blue-Pink) */
        .btn-login {
            width: 100%;
            padding: 15px;
            background: linear-gradient(90deg, #00f2ff, #ff0055); /* Gradient */
            border: none;
            color: black;
            font-weight: bold;
            font-size: 18px;
            cursor: pointer;
            margin-top: 10px;
            font-family: 'Courier Prime', monospace;
        }

        /* Dashboard Buttons (Neon Outlines) */
        .tool-btn {
            width: 45%; /* 2 buttons per row */
            padding: 20px 5px;
            margin: 8px;
            background: black;
            color: white;
            border: 2px solid;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            display: inline-block;
            vertical-align: top;
            font-size: 12px;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.8);
            transition: 0.2s;
        }
        .tool-btn:active { transform: scale(0.95); }

        /* Colors matching Screenshot 2 */
        .b-cyan { border-color: cyan; color: cyan; box-shadow: 0 0 10px cyan; }
        .b-red { border-color: #ff0040; color: #ff0040; box-shadow: 0 0 10px #ff0040; }
        .b-yellow { border-color: #ffdd00; color: #ffdd00; box-shadow: 0 0 10px #ffdd00; }
        .b-green { border-color: #00ff00; color: #00ff00; box-shadow: 0 0 10px #00ff00; }

        .btn-logout {
            width: 95%;
            margin-top: 20px;
            padding: 10px;
            border: 1px solid red;
            background: transparent;
            color: red;
            cursor: pointer;
            font-family: 'Courier Prime', monospace;
        }

        /* --- 6. RESULT BOX (TELEGRAM STYLE) --- */
        .result-area {
            margin-top: 20px;
            text-align: left;
            font-size: 11px;
            color: #ddd;
            background: #111;
            padding: 10px;
            border: 1px dashed #555;
            white-space: pre-wrap;
            display: none;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .copy-btn {
            background: gold;
            color: black;
            border: none;
            padding: 5px 10px;
            margin-top: 5px;
            cursor: pointer;
            width: 100%;
            font-weight: bold;
            display: none;
        }

        /* Page Management */
        .page { display: none; }
        .active { display: block; }
        
        /* Header Text in Dashboard */
        .bronx-title {
            font-size: 24px;
            font-weight: bold;
            letter-spacing: 2px;
        }
        .text-blue { color: cyan; text-shadow: 0 0 10px cyan; }
        .text-pink { color: #ff0055; text-shadow: 0 0 10px #ff0055; }
        
        .profile-pic {
            width: 80px; height: 80px;
            border-radius: 50%;
            border: 2px solid cyan;
            box-shadow: 0 0 15px cyan;
            background: #222;
            margin-bottom: 10px;
            object-fit: cover;
        }
    </style>
</head>
<body onload="init()">

<div class="container">

    <div id="p-login" class="page active">
        <h1>ACCESS CONTROL</h1>
        
        <input type="text" id="usr" placeholder="Username">
        <input type="password" id="pwd" placeholder="Password">
        
        <button class="btn-login" onclick="login()">LOGIN SYSTEM</button>
        <p id="msg" style="color: red; font-size: 12px; margin-top: 10px;"></p>
    </div>

    <div id="p-dashboard" class="page">
        <img src="https://i.ibb.co/hR5k5jT/profile.jpg" class="profile-pic" alt="IMG">
        
        <div class="bronx-title">
            <span class="text-blue">BRONX</span> <span class="text-pink">ULTRA</span>
        </div>
        <p style="color: gray; font-size: 10px; margin-bottom: 20px;">CHOOSE YOUR TOOL</p>

        <div>
            <button class="tool-btn b-cyan" onclick="nav('p-number')">
                ğŸ“±<br>NUMBER INFO
            </button>
            <button class="tool-btn b-red" onclick="nav('p-vehicle')">
                ğŸï¸<br>VEHICLE INFO
            </button>
        </div>
        <div>
            <button class="tool-btn b-yellow" onclick="nav('p-adhar')">
                ğŸ†”<br>ADHAR INFO
            </button>
            <button class="tool-btn b-green" onclick="nav('p-mail')">
                ğŸ“§<br>MAIL INFO
            </button>
        </div>

        <button class="btn-logout" onclick="logout()">LOGOUT</button>
    </div>

    <div id="p-number" class="page">
        <h2 style="color: cyan;">ğŸ“± NUMBER INFO</h2>
        <input type="number" id="inp-num" placeholder="Enter Mobile Number">
        <button class="tool-btn b-cyan" style="width:100%" onclick="fetchData('num')">SEARCH ğŸ”</button>
        <div id="res-num" class="result-area" style="border-color: cyan;"></div>
        <button id="cp-num" class="copy-btn" onclick="copy('res-num')">ğŸ“‹ COPY RESULT</button>
        <br><br>
        <button class="btn-logout" style="border-color:gray; color:gray;" onclick="nav('p-dashboard')">BACK</button>
    </div>

    <div id="p-vehicle" class="page">
        <h2 style="color: #ff0040;">ğŸï¸ VEHICLE INFO</h2>
        <input type="text" id="inp-veh" placeholder="Enter RC (HR12AQ4000)">
        <button class="tool-btn b-red" style="width:100%" onclick="fetchData('veh')">SEARCH ğŸ”</button>
        <div id="res-veh" class="result-area" style="border-color: #ff0040;"></div>
        <button id="cp-veh" class="copy-btn" onclick="copy('res-veh')">ğŸ“‹ COPY RESULT</button>
        <br><br>
        <button class="btn-logout" style="border-color:gray; color:gray;" onclick="nav('p-dashboard')">BACK</button>
    </div>

    <div id="p-adhar" class="page">
        <h2 style="color: #ffdd00;">ğŸ†” ADHAR INFO</h2>
        <input type="number" id="inp-adh" placeholder="Enter Adhar Number">
        <button class="tool-btn b-yellow" style="width:100%" onclick="fetchData('adh')">SEARCH ğŸ”</button>
        <div id="res-adh" class="result-area" style="border-color: #ffdd00;"></div>
        <button id="cp-adh" class="copy-btn" onclick="copy('res-adh')">ğŸ“‹ COPY RESULT</button>
        <br><br>
        <button class="btn-logout" style="border-color:gray; color:gray;" onclick="nav('p-dashboard')">BACK</button>
    </div>

    <div id="p-mail" class="page">
        <h2 style="color: #00ff00;">ğŸ“§ MAIL INFO</h2>
        <input type="email" id="inp-mail" placeholder="Enter Email Address">
        <button class="tool-btn b-green" style="width:100%" onclick="fetchData('mail')">SEARCH ğŸ”</button>
        <div id="res-mail" class="result-area" style="border-color: #00ff00;"></div>
        <button id="cp-mail" class="copy-btn" onclick="copy('res-mail')">ğŸ“‹ COPY RESULT</button>
        <br><br>
        <button class="btn-logout" style="border-color:gray; color:gray;" onclick="nav('p-dashboard')">BACK</button>
    </div>

</div>

<script>
    // --- USER SETTINGS ---
    const CONFIG = {
        user: "REHAN",
        pass: "123",
        expiry: "2026-12-30"
    };

    // --- HELPER TO PREVENT 'UNDEFINED' ---
    function get(obj, keys) {
        if (!obj) return "N/A";
        for (let k of keys) {
            if (obj[k] && obj[k] !== "null" && obj[k] !== "") return obj[k];
        }
        return "N/A";
    }

    // --- NAVIGATION ---
    function init() {
        if(localStorage.getItem("logged")) nav('p-dashboard');
    }
    function nav(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    // --- LOGIN ---
    function login() {
        const u = document.getElementById('usr').value;
        const p = document.getElementById('pwd').value;
        const msg = document.getElementById('msg');
        
        if (new Date() > new Date(CONFIG.expiry)) {
            msg.innerText = "â›” EXPIRED!"; return;
        }
        if (u === CONFIG.user && p === CONFIG.pass) {
            localStorage.setItem("logged", "true");
            nav('p-dashboard');
        } else {
            msg.innerText = "âŒ INVALID CREDENTIALS";
        }
    }
    function logout() {
        localStorage.clear();
        location.reload();
    }
    function copy(id) {
        const txt = document.getElementById(id).innerText;
        navigator.clipboard.writeText(txt).then(() => alert("COPIED! âœ…"));
    }

    // --- MAIN API HANDLER (SOLVES THE ERROR ISSUE) ---
    async function fetchData(type) {
        let url = "", inp = "", resBox, cpBtn;

        if (type === 'num') {
            inp = document.getElementById('inp-num').value;
            resBox = document.getElementById('res-num');
            cpBtn = document.getElementById('cp-num');
            url = `https://bronx-api-sable.vercel.app/search?num=${inp}&key=bronx-api`;
        } else if (type === 'veh') {
            inp = document.getElementById('inp-veh').value;
            resBox = document.getElementById('res-veh');
            cpBtn = document.getElementById('cp-veh');
            url = `https://bronx-rc-api.vercel.app/?rc_number=${inp}`;
        } else if (type === 'adh') {
            inp = document.getElementById('inp-adh').value;
            resBox = document.getElementById('res-adh');
            cpBtn = document.getElementById('cp-adh');
            url = `https://bronx-adhar-api.vercel.app/aadhar=${inp}`;
        } else if (type === 'mail') {
            inp = document.getElementById('inp-mail').value;
            resBox = document.getElementById('res-mail');
            cpBtn = document.getElementById('cp-mail');
            url = `https://bronx-mail-api.vercel.app/mail=${inp}`;
        }

        if (!inp) { alert("Please enter input!"); return; }

        resBox.style.display = "block";
        resBox.innerHTML = "â³ CONNECTING SERVER...";
        cpBtn.style.display = "none";

        try {
            const req = await fetch(url);
            const data = await req.json();

            let output = "";

            if (type === 'num') {
                output = `ğŸ”...... ğ—¥ğ—˜ğ—–ğ—¢ğ—¥ğ——\n` +
                `â”œâ”€ ğŸ‘¤ ğ—¡ğ—®ğ—ºğ—²: ${get(data, ["name", "fullname", "consumer_name"])}\n` +
                `â”œâ”€ ğŸ“± ğ— ğ—¼ğ—¯ğ—¶ğ—¹ğ—²: ${get(data, ["mobile", "phone"]) || inp}\n` +
                `â”œâ”€ ğŸ§‘â€ğŸ¦³ ğ—™ğ—®ğ˜ğ—µğ—²ğ—¿: ${get(data, ["fname", "father_name"])}\n` +
                `â”œâ”€ ğŸ  ğ—”ğ—±ğ—±ğ—¿ğ—²ğ˜€ğ˜€: ${get(data, ["address", "location"])}\n` +
                `â”œâ”€ ğŸŒ ğ—–ğ—¶ğ—¿ğ—°ğ—¹ğ—²: ${get(data, ["circle", "state"])}\n` +
                `â””â”€ ğŸ†” ğ—œğ——: ${get(data, ["id", "uid"])}\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`;
            } 
            else if (type === 'veh') {
                if(data.status === "success" && data.details) {
                    const d = data.details;
                    output = `ğŸï¸ ğ—©ğ—˜ğ—›ğ—œğ—–ğ—Ÿğ—˜ ğ—œğ—¡ğ—™ğ—¢ ğ—©ğ—œğ—£\nTarget: ${inp}\n\n` +
                    `ğŸ‘¤ Owner: ${d["Owner Name"]}\n` +
                    `ğŸ§‘â€ğŸ¦³ Father: ${d["Father's Name"]}\n` +
                    `ğŸ“± Phone: ${d["Phone"]}\n` +
                    `ğŸš˜ Car: ${d["Maker Model"]}\n` +
                    `ğŸ—“ï¸ Date: ${d["Registration Date"]}\n` +
                    `ğŸ›ï¸ RTO: ${d["Registered RTO"]}\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`;
                } else { throw new Error("No Data"); }
            }
            else if (type === 'adh') {
                output = `ğŸ†” ğ—”ğ——ğ—›ğ—”ğ—¥ ğ—œğ—¡ğ—™ğ—¢\n` +
                `â”œâ”€ ğŸ†” ğ—œğ——: ${get(data, ["id"]) || inp}\n` +
                `â”œâ”€ ğŸ‘¤ ğ—¡ğ—®ğ—ºğ—²: ${get(data, ["name"])}\n` +
                `â”œâ”€ ğŸ§‘â€ğŸ¦³ ğ—™ğ—®ğ˜ğ—µğ—²ğ—¿: ${get(data, ["fname"])}\n` +
                `â”œâ”€ ğŸ“± ğ— ğ—¼ğ—¯ğ—¶ğ—¹ğ—²: ${get(data, ["mobile"])}\n` +
                `â””â”€ ğŸ  ğ—”ğ—±ğ—±ğ—¿ğ—²ğ˜€ğ˜€: ${get(data, ["address"])}\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`;
            }
            else if (type === 'mail') {
                const d = (data.results && data.results[0]) ? data.results[0] : data;
                output = `ğŸ“§ ğ— ğ—”ğ—œğ—Ÿ ğ—œğ—¡ğ—™ğ—¢\n` +
                `â”œâ”€ ğŸ“§ ğ—˜ğ—ºğ—®ğ—¶ğ—¹: ${get(d, ["email"]) || inp}\n` +
                `â”œâ”€ ğŸ‘¤ ğ—¡ğ—®ğ—ºğ—²: ${get(d, ["name"])}\n` +
                `â”œâ”€ ğŸ“± ğ— ğ—¼ğ—¯ğ—¶ğ—¹ğ—²: ${get(d, ["mobile"])}\n` +
                `â””â”€ ğŸ†” ğ—œğ——: ${get(d, ["id"])}\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`;
            }

            resBox.innerText = output;
            cpBtn.style.display = "block";

        } catch (e) {
            console.log(e);
            resBox.innerText = "âŒ ERROR: Data Not Found or API Offline.\nTry checking the number/ID again.";
        }
    }
</script>

</body>
</html>
